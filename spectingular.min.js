/*! Built by Spectingular on 23-05-2014 15:24:28 */
"use strict";angular.module("sp.binding",[]).directive("spBindOnce",["$timeout",function(a){return{scope:!0,link:function(b){a(function(){b.$destroy()},0)}}}]),angular.module("sp.i18n",["sp.utility"]).provider("spProperties",function(){this.propertyStore={},this.add=function(a,b,c){var d=this.propertyStore;angular.isUndefined(d[a])&&(d[a]={},d[a][c]={}),angular.isUndefined(d[a][c])&&(d[a][c]={}),angular.forEach(b,function(b,e){d[a][c][e]=b})},this.$get=["spUtils",function(a){var b=this.propertyStore;return{property:function(c,d,e){return a.traverse(b,[c,e,d])},properties:function(c,d){return a.traverse(b,[c,d])}}}]}),angular.module("sp.utility").factory("spKeyBinder",["$rootScope","$document","spKeyBinderConfig",function(a,b,c){var d=function(a,b,d){b=angular.extend({},c.defaultOptions(),b);var e=angular.isString(b.target)?angular.element(document.querySelector("#"+b.target)):b.target;angular.isUndefined(a)&&(a="mousedown"),d(a,b,e)},e={handlers:{},bind:function(b,f){d(b,f,function(b,d,f){angular.isUndefined(e.handlers[d.type])?(f.on(d.type,function(b){var f=e.handlers[d.type].keyCombinations;for(var g in f){var h=g.split("+"),i={shift:h.indexOf("shift")>-1,ctrl:h.indexOf("ctrl")>-1,alt:h.indexOf("alt")>-1},j=b.keyCode?b.keyCode:b.which?b.which:void 0,k=String.fromCharCode(j).toLowerCase(),l=1===h.length?c.specialKeys()[g]:void 0;if(i.shift===(b.shiftKey?!0:!1)&&i.ctrl===(b.ctrlKey?!0:!1)&&i.alt===(b.altKey?!0:!1)&&(h.indexOf(k)>-1||angular.isDefined(l)&&l===j)){var m=b.type;1!==j&&(m=m+"-"+g),a.$broadcast(m)}}}),e.handlers[d.type]={},e.handlers[d.type].count=1,e.handlers[d.type].keyCombinations={},e.handlers[d.type].keyCombinations[b]=1):(angular.isUndefined(e.handlers[d.type].keyCombinations[b])?e.handlers[d.type].keyCombinations[b]=1:e.handlers[d.type].keyCombinations[b]++,e.handlers[d.type].count++)})},unbind:function(a,b){d(a,b,function(a,b,c){e.handlers[b.type]&&(e.handlers[b.type].count--,e.handlers[b.type].keyCombinations[a]--,0===e.handlers[b.type].keyCombinations[a]&&delete e.handlers[b.type].keyCombinations[a],0===e.handlers[b.type].count&&(c.off(b.type),delete e.handlers[b.type]))})}};return e}]),angular.module("sp.utility").provider("spKeyBinderConfig",function(){this.defaultOptions={type:"keydown"},this.specialKeys={mousedown:1,backspace:8,tab:9,enter:13,"break":19,capslock:20,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,numlock:144,scroll:145,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},this.setDefaultTarget=function(a){this.defaultOptions.target=a},this.setDefaultType=function(a){this.defaultOptions.type=a},this.$get=["$document",function(a){var b=this.defaultOptions,c=this.specialKeys;return angular.isUndefined(b.target)&&(b.target=a),{defaultOptions:function(){return b},specialKeys:function(){return c}}}]}),angular.module("sp.utility",[]),angular.module("sp.utility").service("spUtils",function(){function a(b,c){if(0===c.length)return b;var d=c.shift(),e=b[d];return angular.isDefined(e)?a(e,c):void 0}var b={};return b.traverse=a,b.traverseOrDefault=function(a,c,d){var e=b.traverse(a,c);return angular.isDefined(e)?e:d},b});