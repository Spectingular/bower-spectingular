/*! Built by Spectingular on 24-05-2014 07:52:14 */
"use strict";angular.module("sp.utility",[]),angular.module("sp.binding",[]).directive("spBindOnce",["$timeout",function(a){return{scope:!0,link:function(b){a(function(){b.$destroy()},0)}}}]),angular.module("sp.i18n",["sp.utility"]).provider("spProperties",function(){this.propertyStore={},this.add=function(a,b,c){var d=this.propertyStore;angular.isUndefined(d[a])&&(d[a]={},d[a][c]={}),angular.isUndefined(d[a][c])&&(d[a][c]={}),angular.forEach(b,function(b,e){d[a][c][e]=b})},this.$get=["spUtils",function(a){var b=this.propertyStore;return{property:function(c,d,e){return a.traverse(b,[c,e,d])},properties:function(c,d){return a.traverse(b,[c,d])}}}]}),angular.module("sp.utility").factory("spKeyBinder",["$rootScope","$document","spKeyBinderConfig",function(a,b,c){var d=function(a,b,d){b=angular.extend({},c.defaultOptions(),b);var e=angular.isString(b.target)?angular.element(document.querySelector("#"+b.target)):b.target;angular.isUndefined(a)&&(a="mousedown"),d(a,b,e)},e={handlers:{},bind:function(f,g){d(f,g,function(d,f,g){var h=f.target===b?"document":f.target,i=!1;angular.isUndefined(e.handlers[f.type])&&(e.handlers[f.type]={count:0},e.handlers[f.type].elements={}),angular.isUndefined(e.handlers[f.type].elements[h])&&(i=!0,e.handlers[f.type].elements[h]={count:0,keyCombinations:{}}),angular.isUndefined(e.handlers[f.type].elements[h].keyCombinations[d])?(e.handlers[f.type].count++,e.handlers[f.type].elements[h].count++,e.handlers[f.type].elements[h].keyCombinations[d]=1):(e.handlers[f.type].count++,e.handlers[f.type].elements[h].count++,e.handlers[f.type].elements[h].keyCombinations[d]++),i&&g.on(f.type,function(b){var d=angular.isDefined(b.delegateTarget.id)?b.delegateTarget.id:"document",g=e.handlers[f.type].elements[d].keyCombinations;for(var h in g){var i=h.split("+"),j={shift:i.indexOf("shift")>-1,ctrl:i.indexOf("ctrl")>-1,alt:i.indexOf("alt")>-1},k=b.keyCode?b.keyCode:b.which?b.which:void 0,l=String.fromCharCode(k).toLowerCase(),m=1===i.length?c.specialKeys()[h]:void 0;if(j.shift===(b.shiftKey?!0:!1)&&j.ctrl===(b.ctrlKey?!0:!1)&&j.alt===(b.altKey?!0:!1)&&(i.indexOf(l)>-1||angular.isDefined(m)&&m===k)){var n=b.type;1!==k&&(n=n+"-"+h),a.$broadcast(n)}}})})},unbind:function(a,c){d(a,c,function(a,c,d){var f=c.target===b?"document":c.target;angular.isDefined(e.handlers[c.type])&&angular.isDefined(e.handlers[c.type].elements[f])&&angular.isDefined(e.handlers[c.type].elements[f].keyCombinations[a])&&(e.handlers[c.type].elements[f].keyCombinations[a]--,e.handlers[c.type].elements[f].count--,e.handlers[c.type].count--,0===e.handlers[c.type].elements[f].keyCombinations[a]&&delete e.handlers[c.type].elements[f].keyCombinations[a],0===e.handlers[c.type].elements[f].count&&(delete e.handlers[c.type].elements[f],d.off(c.type)),0===e.handlers[c.type].count&&delete e.handlers[c.type])})}};return e}]),angular.module("sp.utility").provider("spKeyBinderConfig",function(){this.defaultOptions={type:"keydown"},this.specialKeys={mousedown:1,backspace:8,tab:9,enter:13,"break":19,capslock:20,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,numlock:144,scroll:145,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},this.setDefaultTarget=function(a){this.defaultOptions.target=a},this.setDefaultType=function(a){this.defaultOptions.type=a},this.$get=["$document",function(a){var b=this.defaultOptions,c=this.specialKeys;return angular.isUndefined(b.target)&&(b.target=a),{defaultOptions:function(){return b},specialKeys:function(){return c}}}]}),angular.module("sp.utility").service("spUtils",function(){function a(b,c){if(0===c.length)return b;var d=c.shift(),e=b[d];return angular.isDefined(e)?a(e,c):void 0}var b={};return b.traverse=a,b.traverseOrDefault=function(a,c,d){var e=b.traverse(a,c);return angular.isDefined(e)?e:d},b});